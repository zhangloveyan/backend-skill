# 优化记录模板

## 基础模板

```markdown
## YYYY-MM-DD 优化记录

### 优化内容
- 具体优化了什么

### 用户确认情况
- ✅ 已确认：具体确认的优化项
- ❌ 已拒绝：用户拒绝的优化项及原因
- ⏭️ 已跳过：跳过的优化项

### 优化效果
- ✅ 达到的效果
- ❌ 未达到的效果

### 验证结果
- 在实际开发中的验证情况
- 是否需要进一步调整
```

## 记录示例

### 规范优化记录
```markdown
## 2026-01-17 规范文档精简

### 优化内容
- 将详细命名规范迁移到 /proj-gen Skill
- 将安全和性能红线迁移到 /proj-review Skill
- 精简 CLAUDE.md 主文档内容

### 用户确认情况
- ✅ 已确认：精简 CLAUDE.md 主文档（用户选择：y）
- ✅ 已确认：迁移详细规范到对应 Skill（用户选择：y）
- ❌ 已拒绝：删除版本历史表（用户选择：n，原因：可能后续需要参考）

### 优化效果
- ✅ CLAUDE.md 从 331 行减少到 192 行
- ✅ 保持了所有核心流程和规则
- ✅ 详细规范按需查阅，减少认知负担

### 验证结果
- 待在后续开发中验证查找效率是否提升
- 待验证是否影响规范遵循度
```

### 流程优化记录
```markdown
## 2026-01-17 自我进化机制建立

### 优化内容
- 创建 /proj-optimize Skill
- 建立项目级问题记录机制
- 实现按需执行的优化流程
- 增加用户确认机制

### 用户确认情况
- ✅ 已确认：创建 /proj-optimize Skill（用户选择：y）
- ✅ 已确认：建立项目级记录机制（用户选择：y）
- ✅ 已确认：增加用户确认机制（用户选择：y）

### 优化效果
- ✅ 建立了系统化的问题收集机制
- ✅ 实现了可执行的优化流程
- ✅ 避免了无意义的重复操作
- ✅ 增加了用户控制权，避免意外修改

### 验证结果
- 待在实际开发中验证问题记录的便利性
- 待验证批量优化的效果
- 待验证用户确认机制的实用性
```

### 工具改进记录
```markdown
## 2026-01-17 代码生成模板完善

### 优化内容
- 在 Service 模板中增加标准异常处理
- 补充了 Controller 层的参数校验模板
- 完善了 DTO 字段注释规范

### 用户确认情况
- ✅ 已确认：Service 异常处理模板（用户选择：y）
- ✅ 已确认：Controller 参数校验模板（用户选择：y）
- ❌ 已拒绝：DTO 字段注释规范（用户选择：n，原因：认为过于冗余）

### 优化效果
- ✅ 减少了手动添加异常处理的工作量
- ✅ 提高了生成代码的质量
- ❌ DTO 注释规范未实施，仍需手动添加

### 验证结果
- ✅ 在心事日记功能开发中验证有效
- ⚠️ 发现模板需要根据不同场景调整
- 📝 下次优化：考虑按场景提供不同模板
- 📝 重新考虑 DTO 注释规范的实施方式
```

### 用户拒绝的优化记录
```markdown
## 2026-01-17 用户拒绝的优化项

### 拒绝的优化
- 删除版本历史表
- DTO 字段注释规范过于详细
- 自动格式化代码功能

### 拒绝原因
- 版本历史表：用户认为可能后续需要参考
- DTO 注释规范：用户认为过于冗余，影响代码简洁性
- 自动格式化：用户担心影响现有代码风格

### 后续处理
- 保留版本历史表，但考虑迁移到单独文件
- 重新设计 DTO 注释规范，更加简洁
- 暂不实施自动格式化，等待更好的时机
```